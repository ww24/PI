<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="css/topcoat-mobile-light.min.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <title>PI = ?</title>
</head>
<body>
  <div class="wrapper">
    <header>
      <h1>PI = ?</h1>
      <p>
        π = 4 × arctan1 を利用して π の値を求める。
        <br>
        (ライプニッツの円周率公式)
      </p>
      <svg height='63' preserveAspectRatio='xMinYMin' version='1.1' viewBox='0 0 133.399 62.5636' width='133' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
        <defs>
          <path d='M4.68 3.4992C4.68 3.456 4.68 3.4272 4.4352 3.1824C2.9952 1.728 2.1888 -0.648 2.1888 -3.5856C2.1888 -6.3792 2.8656 -8.784 4.536 -10.4832C4.68 -10.6128 4.68 -10.6416 4.68 -10.6848C4.68 -10.7712 4.608 -10.8 4.5504 -10.8C4.3632 -10.8 3.1824 -9.7632 2.4768 -8.352C1.7424 -6.8976 1.4112 -5.3568 1.4112 -3.5856C1.4112 -2.304 1.6128 -0.5904 2.3616 0.9504C3.2112 2.6784 4.392 3.6144 4.5504 3.6144C4.608 3.6144 4.68 3.5856 4.68 3.4992Z' id='g040'/>
          <path d='M4.0608 -3.5856C4.0608 -4.68 3.9168 -6.4656 3.1104 -8.136C2.2608 -9.864 1.08 -10.8 0.9216 -10.8C0.864 -10.8 0.792 -10.7712 0.792 -10.6848C0.792 -10.6416 0.792 -10.6128 1.0368 -10.368C2.4768 -8.9136 3.2832 -6.5376 3.2832 -3.6C3.2832 -0.8064 2.6064 1.5984 0.936 3.2976C0.792 3.4272 0.792 3.456 0.792 3.4992C0.792 3.5856 0.864 3.6144 0.9216 3.6144C1.1088 3.6144 2.2896 2.5776 2.9952 1.1664C3.7296 -0.3024 4.0608 -1.8576 4.0608 -3.5856Z' id='g041'/>
          <path d='M5.7456 -3.3264H9.72C9.9216 -3.3264 10.1808 -3.3264 10.1808 -3.5856C10.1808 -3.8592 9.936 -3.8592 9.72 -3.8592H5.7456V-7.8336C5.7456 -8.0352 5.7456 -8.2944 5.4864 -8.2944C5.2128 -8.2944 5.2128 -8.0496 5.2128 -7.8336V-3.8592H1.2384C1.0368 -3.8592 0.7776 -3.8592 0.7776 -3.6C0.7776 -3.3264 1.0224 -3.3264 1.2384 -3.3264H5.2128V0.648C5.2128 0.8496 5.2128 1.1088 5.472 1.1088C5.7456 1.1088 5.7456 0.864 5.7456 0.648V-3.3264Z' id='g043'/>
          <path d='M4.1472 -9.2304C4.1472 -9.5616 4.1472 -9.576 3.8592 -9.576C3.5136 -9.1872 2.7936 -8.6544 1.3104 -8.6544V-8.2368C1.6416 -8.2368 2.3616 -8.2368 3.1536 -8.6112V-1.1088C3.1536 -0.5904 3.1104 -0.4176 1.8432 -0.4176H1.3968V-0C1.7856 -0.0288 3.1824 -0.0288 3.6576 -0.0288S5.5152 -0.0288 5.904 -0V-0.4176H5.4576C4.1904 -0.4176 4.1472 -0.5904 4.1472 -1.1088V-9.2304Z' id='g049'/>
          <path d='M6.336 -2.4192H6.0192C5.976 -2.1744 5.8608 -1.3824 5.7168 -1.152C5.616 -1.0224 4.7952 -1.0224 4.3632 -1.0224H1.6992C2.088 -1.3536 2.9664 -2.2752 3.3408 -2.6208C5.5296 -4.6368 6.336 -5.3856 6.336 -6.8112C6.336 -8.4672 5.0256 -9.576 3.3552 -9.576S0.7056 -8.1504 0.7056 -6.912C0.7056 -6.1776 1.3392 -6.1776 1.3824 -6.1776C1.6848 -6.1776 2.0592 -6.3936 2.0592 -6.8544C2.0592 -7.2576 1.7856 -7.5312 1.3824 -7.5312C1.2528 -7.5312 1.224 -7.5312 1.1808 -7.5168C1.4544 -8.496 2.232 -9.1584 3.168 -9.1584C4.392 -9.1584 5.1408 -8.136 5.1408 -6.8112C5.1408 -5.5872 4.4352 -4.5216 3.6144 -3.6L0.7056 -0.3456V-0H5.9616L6.336 -2.4192Z' id='g050'/>
          <path d='M5.1984 -9.3744C5.1984 -9.648 5.1984 -9.72 4.9968 -9.72C4.8816 -9.72 4.8384 -9.72 4.7232 -9.5472L0.3888 -2.8224V-2.4048H4.176V-1.0944C4.176 -0.5616 4.1472 -0.4176 3.096 -0.4176H2.808V-0C3.1392 -0.0288 4.2768 -0.0288 4.68 -0.0288S6.2352 -0.0288 6.5664 -0V-0.4176H6.2784C5.2416 -0.4176 5.1984 -0.5616 5.1984 -1.0944V-2.4048H6.6528V-2.8224H5.1984V-9.3744ZM4.248 -8.2512V-2.8224H0.7488L4.248 -8.2512Z' id='g052'/>
          <path d='M9.5184 -3.312C9.72 -3.312 9.9936 -3.312 9.9936 -3.6S9.72 -3.888 9.5184 -3.888H1.6704C1.4688 -3.888 1.1952 -3.888 1.1952 -3.6S1.4688 -3.312 1.6704 -3.312H9.5184Z' id='g10'/>
          <path d='M6.0192 -3.6L8.8848 -6.48C9.0432 -6.6384 9.072 -6.6672 9.072 -6.7824C9.072 -6.9408 8.9424 -7.0704 8.784 -7.0704C8.6688 -7.0704 8.6112 -7.0128 8.4816 -6.8832L5.6016 -4.0032L2.7072 -6.8832C2.5488 -7.0416 2.52 -7.0704 2.4048 -7.0704C2.2608 -7.0704 2.1168 -6.9408 2.1168 -6.7824C2.1168 -6.6672 2.1744 -6.6096 2.304 -6.48L5.1696 -3.6L2.304 -0.7344C2.16 -0.5904 2.1168 -0.504 2.1168 -0.4176C2.1168 -0.2592 2.2608 -0.1296 2.4048 -0.1296C2.52 -0.1296 2.5488 -0.1584 2.7072 -0.3168L5.5872 -3.1968L8.4672 -0.3168C8.6112 -0.1728 8.6976 -0.1296 8.784 -0.1296C8.9568 -0.1296 9.072 -0.2592 9.072 -0.4176C9.072 -0.5328 9.0432 -0.5616 8.8848 -0.72L6.0192 -3.6Z' id='g12'/>
          <path d='M2.87 -6.83C2.87 -6.84 2.87 -6.94 2.74 -6.94C2.51 -6.94 1.78 -6.86 1.52 -6.84C1.44 -6.83 1.33 -6.82 1.33 -6.64C1.33 -6.52 1.42 -6.52 1.57 -6.52C2.05 -6.52 2.07 -6.45 2.07 -6.35L2.04 -6.15L0.59 -0.39C0.55 -0.25 0.55 -0.23 0.55 -0.17C0.55 0.06 0.75 0.11 0.84 0.11C0.97 0.11 1.12 0.02 1.18 -0.1C1.23 -0.19 1.68 -2.04 1.74 -2.29C2.08 -2.26 2.9 -2.1 2.9 -1.44C2.9 -1.37 2.9 -1.33 2.87 -1.23C2.85 -1.11 2.83 -0.99 2.83 -0.88C2.83 -0.29 3.23 0.11 3.75 0.11C4.05 0.11 4.32 -0.05 4.54 -0.42C4.79 -0.86 4.9 -1.41 4.9 -1.43C4.9 -1.53 4.81 -1.53 4.78 -1.53C4.68 -1.53 4.67 -1.49 4.64 -1.35C4.44 -0.62 4.21 -0.11 3.77 -0.11C3.58 -0.11 3.45 -0.22 3.45 -0.58C3.45 -0.75 3.49 -0.98 3.53 -1.14C3.57 -1.31 3.57 -1.35 3.57 -1.45C3.57 -2.1 2.94 -2.39 2.09 -2.5C2.4 -2.68 2.72 -3 2.95 -3.24C3.43 -3.77 3.89 -4.2 4.38 -4.2C4.44 -4.2 4.45 -4.2 4.47 -4.19C4.59 -4.17 4.6 -4.17 4.68 -4.11C4.7 -4.1 4.7 -4.09 4.72 -4.07C4.24 -4.04 4.15 -3.65 4.15 -3.53C4.15 -3.37 4.26 -3.18 4.53 -3.18C4.79 -3.18 5.08 -3.4 5.08 -3.79C5.08 -4.09 4.85 -4.42 4.4 -4.42C4.12 -4.42 3.66 -4.34 2.94 -3.54C2.6 -3.16 2.21 -2.76 1.83 -2.61L2.87 -6.83Z' id='g2107'/>
          <path d='M0.88 -0.59C0.85 -0.44 0.79 -0.21 0.79 -0.16C0.79 0.02 0.93 0.11 1.08 0.11C1.2 0.11 1.38 0.03 1.45 -0.17C1.46 -0.19 1.58 -0.66 1.64 -0.91C1.71 -1.21 1.79 -1.51 1.86 -1.81C1.92 -2.03 1.98 -2.25 2.03 -2.48C2.07 -2.65 2.15 -2.94 2.16 -2.98C2.31 -3.29 2.84 -4.2 3.79 -4.2C4.24 -4.2 4.33 -3.83 4.33 -3.5C4.33 -2.88 3.84 -1.6 3.68 -1.17C3.59 -0.94 3.58 -0.82 3.58 -0.71C3.58 -0.24 3.93 0.11 4.4 0.11C5.34 0.11 5.71 -1.35 5.71 -1.43C5.71 -1.53 5.62 -1.53 5.59 -1.53C5.49 -1.53 5.49 -1.5 5.44 -1.35C5.24 -0.67 4.91 -0.11 4.42 -0.11C4.25 -0.11 4.18 -0.21 4.18 -0.44C4.18 -0.69 4.27 -0.93 4.36 -1.15C4.55 -1.68 4.97 -2.78 4.97 -3.35C4.97 -4.02 4.54 -4.42 3.82 -4.42C2.92 -4.42 2.43 -3.78 2.26 -3.55C2.21 -4.11 1.8 -4.42 1.34 -4.42S0.69 -4.03 0.59 -3.85C0.43 -3.51 0.29 -2.92 0.29 -2.88C0.29 -2.78 0.39 -2.78 0.41 -2.78C0.51 -2.78 0.52 -2.79 0.58 -3.01C0.75 -3.72 0.95 -4.2 1.31 -4.2C1.51 -4.2 1.62 -4.07 1.62 -3.74C1.62 -3.53 1.59 -3.42 1.46 -2.9L0.88 -0.59Z' id='g2110'/>
          <path d='M18.2304 20.16L19.9728 15.552H19.6128C19.0512 17.0496 17.5248 18.0288 15.8688 18.4608C15.5664 18.5328 14.1552 18.9072 11.3904 18.9072H2.7072L10.0368 10.3104C10.1376 10.1952 10.1664 10.152 10.1664 10.08C10.1664 10.0512 10.1664 10.008 10.0656 9.864L3.3552 0.6912H11.2464C13.176 0.6912 14.4864 0.8928 14.616 0.9216C15.3936 1.0368 16.6464 1.2816 17.784 2.0016C18.144 2.232 19.1232 2.88 19.6128 4.0464H19.9728L18.2304 -0H1.2096C0.8784 -0 0.864 0.0144 0.8208 0.1008C0.8064 0.144 0.8064 0.4176 0.8064 0.576L8.424 11.0016L0.9648 19.7424C0.8208 19.9152 0.8208 19.9872 0.8208 20.0016C0.8208 20.16 0.9504 20.16 1.2096 20.16H18.2304Z' id='g388'/>
          <path d='M4.6 -3.2C4.6 -4 4.55 -4.8 4.2 -5.54C3.74 -6.5 2.92 -6.66 2.5 -6.66C1.9 -6.66 1.17 -6.4 0.76 -5.47C0.44 -4.78 0.39 -4 0.39 -3.2C0.39 -2.45 0.43 -1.55 0.84 -0.79C1.27 0.02 2 0.22 2.49 0.22C3.03 0.22 3.79 0.01 4.23 -0.94C4.55 -1.63 4.6 -2.41 4.6 -3.2ZM2.49 -0C2.1 -0 1.51 -0.25 1.33 -1.21C1.22 -1.81 1.22 -2.73 1.22 -3.32C1.22 -3.96 1.22 -4.62 1.3 -5.16C1.49 -6.35 2.24 -6.44 2.49 -6.44C2.82 -6.44 3.48 -6.26 3.67 -5.27C3.77 -4.71 3.77 -3.95 3.77 -3.32C3.77 -2.57 3.77 -1.89 3.66 -1.25C3.51 -0.3 2.94 -0 2.49 -0Z' id='g448'/>
          <path d='M6.87 -3.27C7.02 -3.27 7.21 -3.27 7.21 -3.47S7.02 -3.67 6.88 -3.67H0.89C0.75 -3.67 0.56 -3.67 0.56 -3.47S0.75 -3.27 0.9 -3.27H6.87ZM6.88 -1.33C7.02 -1.33 7.21 -1.33 7.21 -1.53S7.02 -1.73 6.87 -1.73H0.9C0.75 -1.73 0.56 -1.73 0.56 -1.53S0.75 -1.33 0.89 -1.33H6.88Z' id='g461'/>
          <path d='M2.9664 -4.2192C2.9952 -4.3056 3.3552 -5.0256 3.888 -5.4864C4.2624 -5.832 4.752 -6.0624 5.3136 -6.0624C5.8896 -6.0624 6.0912 -5.6304 6.0912 -5.0544C6.0912 -4.2336 5.5008 -2.592 5.2128 -1.8144C5.0832 -1.4688 5.0112 -1.2816 5.0112 -1.0224C5.0112 -0.3744 5.4576 0.144 6.1488 0.144C7.488 0.144 7.992 -1.9728 7.992 -2.0592C7.992 -2.1312 7.9344 -2.1888 7.848 -2.1888C7.7184 -2.1888 7.704 -2.1456 7.632 -1.9008C7.3008 -0.72 6.7536 -0.144 6.192 -0.144C6.048 -0.144 5.8176 -0.1584 5.8176 -0.6192C5.8176 -0.9792 5.976 -1.4112 6.0624 -1.6128C6.3504 -2.4048 6.9552 -4.0176 6.9552 -4.8384C6.9552 -5.7024 6.4512 -6.3504 5.3568 -6.3504C4.0752 -6.3504 3.3984 -5.4432 3.1392 -5.0832C3.096 -5.904 2.5056 -6.3504 1.872 -6.3504C1.4112 -6.3504 1.0944 -6.0768 0.8496 -5.5872C0.5904 -5.0688 0.3888 -4.2048 0.3888 -4.1472S0.4464 -4.0176 0.5472 -4.0176C0.6624 -4.0176 0.6768 -4.032 0.7632 -4.3632C0.9936 -5.2416 1.2528 -6.0624 1.8288 -6.0624C2.16 -6.0624 2.2752 -5.832 2.2752 -5.4C2.2752 -5.0832 2.1312 -4.5216 2.0304 -4.0752C1.9008 -3.5568 1.7568 -3.0384 1.6272 -2.52C1.5696 -2.2464 1.4112 -1.5984 1.3392 -1.3392C1.2384 -0.9648 1.08 -0.288 1.08 -0.216C1.08 -0.0144 1.2384 0.144 1.4544 0.144C1.6272 0.144 1.8288 0.0576 1.944 -0.1584C1.9728 -0.2304 2.1024 -0.7344 2.1744 -1.0224C2.2752 -1.4544 2.3904 -1.8864 2.4912 -2.3184L2.9664 -4.2192Z' id='g5110'/>
        </defs>
        <g id='page1' transform='matrix(1.5 0 0 1.5 -84.937 -83.16)'>
          <use x='56.6248' xlink:href='#g052' y='80.3845'/>
          <use x='66.8747' xlink:href='#g12' y='80.3845'/>
          <use x='88.9143' xlink:href='#g2107' y='62.3844'/>
          <use x='81.2747' xlink:href='#g388' y='66.7045'/>
          <use x='82.2846' xlink:href='#g2110' y='97.149'/>
          <use x='88.287' xlink:href='#g461' y='97.149'/>
          <use x='96.0648' xlink:href='#g448' y='97.149'/>
          <use x='107.757' xlink:href='#g040' y='70.6428'/>
          <use x='113.24' xlink:href='#g10' y='70.6428'/>
          <use x='124.44' xlink:href='#g049' y='70.6428'/>
          <use x='131.49' xlink:href='#g041' y='70.6428'/>
          <use x='136.973' xlink:href='#g2110' y='63.7039'/>
          <rect height='0.575974' width='39.8828' x='105.675' y='76.4965'/>
          <use x='105.675' xlink:href='#g050' y='90.2622'/>
          <use x='112.725' xlink:href='#g5110' y='90.2622'/>
          <use x='124.341' xlink:href='#g043' y='90.2622'/>
          <use x='138.508' xlink:href='#g049' y='90.2622'/>
        </g>
      </svg>
      <p>k = ∞ のとき、上の式が π (円周率) と等しくなる。</p>
    </header>
    <div class="settings">
      <div class="set">
        <label for="length">k = </label>
        <input id="length" class="topcoat-text-input" value="1000">
      </div>
      <progress></progress>
      <div class="set">
        <label for="result">結果: π ≒</label>
        <input id="result" class="topcoat-text-input" value="計算中" readonly>
      </div>
      <p>これは交代級数 (正負が交互に入れ替わる無限級数) なので、 k と k + 1 のときの値の平均を求めると、更に極限に近い近似値が得られる。</p>
      <svg height='64' preserveAspectRatio='xMinYMin' version='1.1' viewBox='0 0 335.245 64.8006' width='335' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
        <defs>
          <path d='M4.68 3.4992C4.68 3.456 4.68 3.4272 4.4352 3.1824C2.9952 1.728 2.1888 -0.648 2.1888 -3.5856C2.1888 -6.3792 2.8656 -8.784 4.536 -10.4832C4.68 -10.6128 4.68 -10.6416 4.68 -10.6848C4.68 -10.7712 4.608 -10.8 4.5504 -10.8C4.3632 -10.8 3.1824 -9.7632 2.4768 -8.352C1.7424 -6.8976 1.4112 -5.3568 1.4112 -3.5856C1.4112 -2.304 1.6128 -0.5904 2.3616 0.9504C3.2112 2.6784 4.392 3.6144 4.5504 3.6144C4.608 3.6144 4.68 3.5856 4.68 3.4992Z' id='g040'/>
          <path d='M4.0608 -3.5856C4.0608 -4.68 3.9168 -6.4656 3.1104 -8.136C2.2608 -9.864 1.08 -10.8 0.9216 -10.8C0.864 -10.8 0.792 -10.7712 0.792 -10.6848C0.792 -10.6416 0.792 -10.6128 1.0368 -10.368C2.4768 -8.9136 3.2832 -6.5376 3.2832 -3.6C3.2832 -0.8064 2.6064 1.5984 0.936 3.2976C0.792 3.4272 0.792 3.456 0.792 3.4992C0.792 3.5856 0.864 3.6144 0.9216 3.6144C1.1088 3.6144 2.2896 2.5776 2.9952 1.1664C3.7296 -0.3024 4.0608 -1.8576 4.0608 -3.5856Z' id='g041'/>
          <path d='M5.7456 -3.3264H9.72C9.9216 -3.3264 10.1808 -3.3264 10.1808 -3.5856C10.1808 -3.8592 9.936 -3.8592 9.72 -3.8592H5.7456V-7.8336C5.7456 -8.0352 5.7456 -8.2944 5.4864 -8.2944C5.2128 -8.2944 5.2128 -8.0496 5.2128 -7.8336V-3.8592H1.2384C1.0368 -3.8592 0.7776 -3.8592 0.7776 -3.6C0.7776 -3.3264 1.0224 -3.3264 1.2384 -3.3264H5.2128V0.648C5.2128 0.8496 5.2128 1.1088 5.472 1.1088C5.7456 1.1088 5.7456 0.864 5.7456 0.648V-3.3264Z' id='g043'/>
          <path d='M4.1472 -9.2304C4.1472 -9.5616 4.1472 -9.576 3.8592 -9.576C3.5136 -9.1872 2.7936 -8.6544 1.3104 -8.6544V-8.2368C1.6416 -8.2368 2.3616 -8.2368 3.1536 -8.6112V-1.1088C3.1536 -0.5904 3.1104 -0.4176 1.8432 -0.4176H1.3968V-0C1.7856 -0.0288 3.1824 -0.0288 3.6576 -0.0288S5.5152 -0.0288 5.904 -0V-0.4176H5.4576C4.1904 -0.4176 4.1472 -0.5904 4.1472 -1.1088V-9.2304Z' id='g049'/>
          <path d='M6.336 -2.4192H6.0192C5.976 -2.1744 5.8608 -1.3824 5.7168 -1.152C5.616 -1.0224 4.7952 -1.0224 4.3632 -1.0224H1.6992C2.088 -1.3536 2.9664 -2.2752 3.3408 -2.6208C5.5296 -4.6368 6.336 -5.3856 6.336 -6.8112C6.336 -8.4672 5.0256 -9.576 3.3552 -9.576S0.7056 -8.1504 0.7056 -6.912C0.7056 -6.1776 1.3392 -6.1776 1.3824 -6.1776C1.6848 -6.1776 2.0592 -6.3936 2.0592 -6.8544C2.0592 -7.2576 1.7856 -7.5312 1.3824 -7.5312C1.2528 -7.5312 1.224 -7.5312 1.1808 -7.5168C1.4544 -8.496 2.232 -9.1584 3.168 -9.1584C4.392 -9.1584 5.1408 -8.136 5.1408 -6.8112C5.1408 -5.5872 4.4352 -4.5216 3.6144 -3.6L0.7056 -0.3456V-0H5.9616L6.336 -2.4192Z' id='g050'/>
          <path d='M9.5184 -3.312C9.72 -3.312 9.9936 -3.312 9.9936 -3.6S9.72 -3.888 9.5184 -3.888H1.6704C1.4688 -3.888 1.1952 -3.888 1.1952 -3.6S1.4688 -3.312 1.6704 -3.312H9.5184Z' id='g10'/>
          <path d='M6.0192 -3.6L8.8848 -6.48C9.0432 -6.6384 9.072 -6.6672 9.072 -6.7824C9.072 -6.9408 8.9424 -7.0704 8.784 -7.0704C8.6688 -7.0704 8.6112 -7.0128 8.4816 -6.8832L5.6016 -4.0032L2.7072 -6.8832C2.5488 -7.0416 2.52 -7.0704 2.4048 -7.0704C2.2608 -7.0704 2.1168 -6.9408 2.1168 -6.7824C2.1168 -6.6672 2.1744 -6.6096 2.304 -6.48L5.1696 -3.6L2.304 -0.7344C2.16 -0.5904 2.1168 -0.504 2.1168 -0.4176C2.1168 -0.2592 2.2608 -0.1296 2.4048 -0.1296C2.52 -0.1296 2.5488 -0.1584 2.7072 -0.3168L5.5872 -3.1968L8.4672 -0.3168C8.6112 -0.1728 8.6976 -0.1296 8.784 -0.1296C8.9568 -0.1296 9.072 -0.2592 9.072 -0.4176C9.072 -0.5328 9.0432 -0.5616 8.8848 -0.72L6.0192 -3.6Z' id='g12'/>
          <path d='M10.3824 -6.5088C10.3824 -6.8112 10.2816 -6.9408 10.1808 -6.9408C10.0368 -6.9408 9.9936 -6.696 9.9792 -6.552C9.9216 -5.5728 8.9136 -4.968 7.992 -4.968C7.128 -4.968 6.48 -5.4 5.5008 -6.048C4.8816 -6.4512 4.1184 -6.9552 3.1968 -6.9552C1.872 -6.9552 0.8064 -5.9472 0.8064 -4.608C0.8064 -4.2912 0.9072 -4.176 1.008 -4.176C1.1664 -4.176 1.2096 -4.4352 1.2096 -4.5072C1.2816 -5.7168 2.4768 -6.1488 3.1968 -6.1488C4.0608 -6.1488 4.7088 -5.7168 5.688 -5.0688C6.3072 -4.6656 7.0704 -4.1616 7.992 -4.1616C9.3168 -4.1616 10.3824 -5.1696 10.3824 -6.5088ZM10.3824 -3.1392C10.3824 -3.4416 10.2816 -3.5856 10.1808 -3.5856C10.0224 -3.5856 9.9936 -3.3408 9.9792 -3.1248C9.9072 -2.304 9.0144 -1.6128 7.992 -1.6128C7.128 -1.6128 6.48 -2.0448 5.5008 -2.6928C4.8816 -3.096 4.1184 -3.6 3.1968 -3.6C1.872 -3.6 0.8064 -2.592 0.8064 -1.2528C0.8064 -0.936 0.9072 -0.8208 1.008 -0.8208C1.1664 -0.8208 1.2096 -1.08 1.2096 -1.152C1.2816 -2.3616 2.4768 -2.7936 3.1968 -2.7936C4.0608 -2.7936 4.7088 -2.3616 5.688 -1.7136C6.3072 -1.3104 7.0704 -0.8064 7.992 -0.8064C9.3456 -0.8064 10.3824 -1.8576 10.3824 -3.1392Z' id='g125'/>
          <path d='M2.87 -6.83C2.87 -6.84 2.87 -6.94 2.74 -6.94C2.51 -6.94 1.78 -6.86 1.52 -6.84C1.44 -6.83 1.33 -6.82 1.33 -6.64C1.33 -6.52 1.42 -6.52 1.57 -6.52C2.05 -6.52 2.07 -6.45 2.07 -6.35L2.04 -6.15L0.59 -0.39C0.55 -0.25 0.55 -0.23 0.55 -0.17C0.55 0.06 0.75 0.11 0.84 0.11C0.97 0.11 1.12 0.02 1.18 -0.1C1.23 -0.19 1.68 -2.04 1.74 -2.29C2.08 -2.26 2.9 -2.1 2.9 -1.44C2.9 -1.37 2.9 -1.33 2.87 -1.23C2.85 -1.11 2.83 -0.99 2.83 -0.88C2.83 -0.29 3.23 0.11 3.75 0.11C4.05 0.11 4.32 -0.05 4.54 -0.42C4.79 -0.86 4.9 -1.41 4.9 -1.43C4.9 -1.53 4.81 -1.53 4.78 -1.53C4.68 -1.53 4.67 -1.49 4.64 -1.35C4.44 -0.62 4.21 -0.11 3.77 -0.11C3.58 -0.11 3.45 -0.22 3.45 -0.58C3.45 -0.75 3.49 -0.98 3.53 -1.14C3.57 -1.31 3.57 -1.35 3.57 -1.45C3.57 -2.1 2.94 -2.39 2.09 -2.5C2.4 -2.68 2.72 -3 2.95 -3.24C3.43 -3.77 3.89 -4.2 4.38 -4.2C4.44 -4.2 4.45 -4.2 4.47 -4.19C4.59 -4.17 4.6 -4.17 4.68 -4.11C4.7 -4.1 4.7 -4.09 4.72 -4.07C4.24 -4.04 4.15 -3.65 4.15 -3.53C4.15 -3.37 4.26 -3.18 4.53 -3.18C4.79 -3.18 5.08 -3.4 5.08 -3.79C5.08 -4.09 4.85 -4.42 4.4 -4.42C4.12 -4.42 3.66 -4.34 2.94 -3.54C2.6 -3.16 2.21 -2.76 1.83 -2.61L2.87 -6.83Z' id='g2107'/>
          <path d='M0.88 -0.59C0.85 -0.44 0.79 -0.21 0.79 -0.16C0.79 0.02 0.93 0.11 1.08 0.11C1.2 0.11 1.38 0.03 1.45 -0.17C1.46 -0.19 1.58 -0.66 1.64 -0.91C1.71 -1.21 1.79 -1.51 1.86 -1.81C1.92 -2.03 1.98 -2.25 2.03 -2.48C2.07 -2.65 2.15 -2.94 2.16 -2.98C2.31 -3.29 2.84 -4.2 3.79 -4.2C4.24 -4.2 4.33 -3.83 4.33 -3.5C4.33 -2.88 3.84 -1.6 3.68 -1.17C3.59 -0.94 3.58 -0.82 3.58 -0.71C3.58 -0.24 3.93 0.11 4.4 0.11C5.34 0.11 5.71 -1.35 5.71 -1.43C5.71 -1.53 5.62 -1.53 5.59 -1.53C5.49 -1.53 5.49 -1.5 5.44 -1.35C5.24 -0.67 4.91 -0.11 4.42 -0.11C4.25 -0.11 4.18 -0.21 4.18 -0.44C4.18 -0.69 4.27 -0.93 4.36 -1.15C4.55 -1.68 4.97 -2.78 4.97 -3.35C4.97 -4.02 4.54 -4.42 3.82 -4.42C2.92 -4.42 2.43 -3.78 2.26 -3.55C2.21 -4.11 1.8 -4.42 1.34 -4.42S0.69 -4.03 0.59 -3.85C0.43 -3.51 0.29 -2.92 0.29 -2.88C0.29 -2.78 0.39 -2.78 0.41 -2.78C0.51 -2.78 0.52 -2.79 0.58 -3.01C0.75 -3.72 0.95 -4.2 1.31 -4.2C1.51 -4.2 1.62 -4.07 1.62 -3.74C1.62 -3.53 1.59 -3.42 1.46 -2.9L0.88 -0.59Z' id='g2110'/>
          <path d='M4.09 -2.3H6.88C7.02 -2.3 7.21 -2.3 7.21 -2.5S7.02 -2.7 6.88 -2.7H4.09V-5.5C4.09 -5.64 4.09 -5.83 3.89 -5.83S3.69 -5.64 3.69 -5.5V-2.7H0.89C0.75 -2.7 0.56 -2.7 0.56 -2.5S0.75 -2.3 0.89 -2.3H3.69V0.5C3.69 0.64 3.69 0.83 3.89 0.83S4.09 0.64 4.09 0.5V-2.3Z' id='g343'/>
          <path d='M4.6 -3.2C4.6 -4 4.55 -4.8 4.2 -5.54C3.74 -6.5 2.92 -6.66 2.5 -6.66C1.9 -6.66 1.17 -6.4 0.76 -5.47C0.44 -4.78 0.39 -4 0.39 -3.2C0.39 -2.45 0.43 -1.55 0.84 -0.79C1.27 0.02 2 0.22 2.49 0.22C3.03 0.22 3.79 0.01 4.23 -0.94C4.55 -1.63 4.6 -2.41 4.6 -3.2ZM2.49 -0C2.1 -0 1.51 -0.25 1.33 -1.21C1.22 -1.81 1.22 -2.73 1.22 -3.32C1.22 -3.96 1.22 -4.62 1.3 -5.16C1.49 -6.35 2.24 -6.44 2.49 -6.44C2.82 -6.44 3.48 -6.26 3.67 -5.27C3.77 -4.71 3.77 -3.95 3.77 -3.32C3.77 -2.57 3.77 -1.89 3.66 -1.25C3.51 -0.3 2.94 -0 2.49 -0Z' id='g348'/>
          <path d='M2.94 -6.4C2.94 -6.64 2.94 -6.66 2.71 -6.66C2.09 -6.02 1.21 -6.02 0.89 -6.02V-5.71C1.09 -5.71 1.68 -5.71 2.2 -5.97V-0.79C2.2 -0.43 2.17 -0.31 1.27 -0.31H0.95V-0C1.3 -0.03 2.17 -0.03 2.57 -0.03S3.84 -0.03 4.19 -0V-0.31H3.87C2.97 -0.31 2.94 -0.42 2.94 -0.79V-6.4Z' id='g349'/>
          <path d='M6.87 -3.27C7.02 -3.27 7.21 -3.27 7.21 -3.47S7.02 -3.67 6.88 -3.67H0.89C0.75 -3.67 0.56 -3.67 0.56 -3.47S0.75 -3.27 0.9 -3.27H6.87ZM6.88 -1.33C7.02 -1.33 7.21 -1.33 7.21 -1.53S7.02 -1.73 6.87 -1.73H0.9C0.75 -1.73 0.56 -1.73 0.56 -1.53S0.75 -1.33 0.89 -1.33H6.88Z' id='g361'/>
          <path d='M10.9008 42.4656C10.9008 42.4224 10.9008 42.3936 10.8144 42.2928C9.432 40.6224 8.28 38.7792 7.4304 36.7776C5.544 32.3712 4.7952 27.216 4.7952 21.024C4.7952 14.8896 5.5008 9.504 7.632 4.7808C8.4672 2.952 9.5616 1.2528 10.8432 -0.3024C10.872 -0.3456 10.9008 -0.3744 10.9008 -0.432C10.9008 -0.576 10.8 -0.576 10.584 -0.576S10.3392 -0.576 10.3104 -0.5472C10.296 -0.5328 9.4032 0.3312 8.28 1.9152C5.7744 5.4576 4.5072 9.6912 3.8592 13.9824C3.5136 16.3008 3.3984 18.6624 3.3984 21.0096C3.3984 26.3952 4.0752 31.896 6.3792 36.8208C7.4016 39.0096 8.7696 40.9824 10.1952 42.48C10.3248 42.5952 10.3392 42.6096 10.584 42.6096C10.8 42.6096 10.9008 42.6096 10.9008 42.4656Z' id='g432'/>
          <path d='M7.992 21.024C7.992 15.6384 7.3152 10.1376 5.0112 5.2128C3.9888 3.024 2.6208 1.0512 1.1952 -0.4464C1.0656 -0.5616 1.0512 -0.576 0.8064 -0.576C0.6048 -0.576 0.4896 -0.576 0.4896 -0.432C0.4896 -0.3744 0.5472 -0.3024 0.576 -0.2592C1.9584 1.4112 3.1104 3.2544 3.96 5.256C5.8464 9.6624 6.5952 14.8176 6.5952 21.0096C6.5952 27.144 5.8896 32.5296 3.7584 37.2528C2.9232 39.0816 1.8288 40.7808 0.5472 42.336C0.5328 42.3648 0.4896 42.4224 0.4896 42.4656C0.4896 42.6096 0.6048 42.6096 0.8064 42.6096C1.0224 42.6096 1.0512 42.6096 1.08 42.5808C1.0944 42.5664 1.9872 41.7024 3.1104 40.1184C5.616 36.576 6.8832 32.3424 7.5312 28.0512C7.8768 25.7328 7.992 23.3712 7.992 21.024Z' id='g433'/>
          <path d='M18.2304 20.16L19.9728 15.552H19.6128C19.0512 17.0496 17.5248 18.0288 15.8688 18.4608C15.5664 18.5328 14.1552 18.9072 11.3904 18.9072H2.7072L10.0368 10.3104C10.1376 10.1952 10.1664 10.152 10.1664 10.08C10.1664 10.0512 10.1664 10.008 10.0656 9.864L3.3552 0.6912H11.2464C13.176 0.6912 14.4864 0.8928 14.616 0.9216C15.3936 1.0368 16.6464 1.2816 17.784 2.0016C18.144 2.232 19.1232 2.88 19.6128 4.0464H19.9728L18.2304 -0H1.2096C0.8784 -0 0.864 0.0144 0.8208 0.1008C0.8064 0.144 0.8064 0.4176 0.8064 0.576L8.424 11.0016L0.9648 19.7424C0.8208 19.9152 0.8208 19.9872 0.8208 20.0016C0.8208 20.16 0.9504 20.16 1.2096 20.16H18.2304Z' id='g488'/>
          <path d='M3.7296 -5.4288H5.3568C4.968 -3.816 4.7232 -2.7648 4.7232 -1.6128C4.7232 -1.4112 4.7232 0.144 5.3136 0.144C5.616 0.144 5.8752 -0.1296 5.8752 -0.3744C5.8752 -0.4464 5.8752 -0.4752 5.7744 -0.6912C5.3856 -1.6848 5.3856 -2.9232 5.3856 -3.024C5.3856 -3.1104 5.3856 -4.1328 5.688 -5.4288H7.3008C7.488 -5.4288 7.9632 -5.4288 7.9632 -5.8896C7.9632 -6.2064 7.6896 -6.2064 7.4304 -6.2064H2.6928C2.3616 -6.2064 1.872 -6.2064 1.2096 -5.5008C0.8352 -5.0832 0.3744 -4.32 0.3744 -4.2336S0.4464 -4.1184 0.5328 -4.1184C0.6336 -4.1184 0.648 -4.1616 0.72 -4.248C1.4688 -5.4288 2.2176 -5.4288 2.5776 -5.4288H3.3984C3.0816 -4.3488 2.7216 -3.096 1.5408 -0.576C1.4256 -0.3456 1.4256 -0.3168 1.4256 -0.2304C1.4256 0.072 1.6848 0.144 1.8144 0.144C2.232 0.144 2.3472 -0.2304 2.52 -0.8352C2.7504 -1.5696 2.7504 -1.5984 2.8944 -2.1744L3.7296 -5.4288Z' id='g525'/>
          <path d='M2.9664 -4.2192C2.9952 -4.3056 3.3552 -5.0256 3.888 -5.4864C4.2624 -5.832 4.752 -6.0624 5.3136 -6.0624C5.8896 -6.0624 6.0912 -5.6304 6.0912 -5.0544C6.0912 -4.2336 5.5008 -2.592 5.2128 -1.8144C5.0832 -1.4688 5.0112 -1.2816 5.0112 -1.0224C5.0112 -0.3744 5.4576 0.144 6.1488 0.144C7.488 0.144 7.992 -1.9728 7.992 -2.0592C7.992 -2.1312 7.9344 -2.1888 7.848 -2.1888C7.7184 -2.1888 7.704 -2.1456 7.632 -1.9008C7.3008 -0.72 6.7536 -0.144 6.192 -0.144C6.048 -0.144 5.8176 -0.1584 5.8176 -0.6192C5.8176 -0.9792 5.976 -1.4112 6.0624 -1.6128C6.3504 -2.4048 6.9552 -4.0176 6.9552 -4.8384C6.9552 -5.7024 6.4512 -6.3504 5.3568 -6.3504C4.0752 -6.3504 3.3984 -5.4432 3.1392 -5.0832C3.096 -5.904 2.5056 -6.3504 1.872 -6.3504C1.4112 -6.3504 1.0944 -6.0768 0.8496 -5.5872C0.5904 -5.0688 0.3888 -4.2048 0.3888 -4.1472S0.4464 -4.0176 0.5472 -4.0176C0.6624 -4.0176 0.6768 -4.032 0.7632 -4.3632C0.9936 -5.2416 1.2528 -6.0624 1.8288 -6.0624C2.16 -6.0624 2.2752 -5.832 2.2752 -5.4C2.2752 -5.0832 2.1312 -4.5216 2.0304 -4.0752C1.9008 -3.5568 1.7568 -3.0384 1.6272 -2.52C1.5696 -2.2464 1.4112 -1.5984 1.3392 -1.3392C1.2384 -0.9648 1.08 -0.288 1.08 -0.216C1.08 -0.0144 1.2384 0.144 1.4544 0.144C1.6272 0.144 1.8288 0.0576 1.944 -0.1584C1.9728 -0.2304 2.1024 -0.7344 2.1744 -1.0224C2.2752 -1.4544 2.3904 -1.8864 2.4912 -2.3184L2.9664 -4.2192Z' id='g5110'/>
        </defs>
        <g id='page1' transform='matrix(1.5 0 0 1.5 -84.937 -82.776)'>
          <use x='56.6248' xlink:href='#g525' y='80.3845'/>
          <use x='69.1397' xlink:href='#g125' y='80.3845'/>
          <use x='84.3397' xlink:href='#g050' y='80.3845'/>
          <use x='94.5895' xlink:href='#g12' y='80.3845'/>
          <use x='108.99' xlink:href='#g432' y='55.7603'/>
          <use x='128.029' xlink:href='#g2107' y='62.3844'/>
          <use x='120.39' xlink:href='#g488' y='66.7045'/>
          <use x='121.4' xlink:href='#g2110' y='97.149'/>
          <use x='127.402' xlink:href='#g361' y='97.149'/>
          <use x='135.18' xlink:href='#g348' y='97.149'/>
          <use x='146.872' xlink:href='#g040' y='70.6428'/>
          <use x='152.355' xlink:href='#g10' y='70.6428'/>
          <use x='163.555' xlink:href='#g049' y='70.6428'/>
          <use x='170.605' xlink:href='#g041' y='70.6428'/>
          <use x='176.088' xlink:href='#g2110' y='65.4172'/>
          <rect height='0.575974' width='39.8828' x='144.79' y='76.4965'/>
          <use x='144.79' xlink:href='#g050' y='90.2622'/>
          <use x='151.839' xlink:href='#g5110' y='90.2622'/>
          <use x='163.456' xlink:href='#g043' y='90.2622'/>
          <use x='177.623' xlink:href='#g049' y='90.2622'/>
          <use x='189.072' xlink:href='#g043' y='80.3845'/>
          <use x='204.49' xlink:href='#g2107' y='62.3844'/>
          <use x='210.01' xlink:href='#g343' y='62.3844'/>
          <use x='217.788' xlink:href='#g349' y='62.3844'/>
          <use x='203.239' xlink:href='#g488' y='66.7045'/>
          <use x='204.249' xlink:href='#g2110' y='97.149'/>
          <use x='210.251' xlink:href='#g361' y='97.149'/>
          <use x='218.029' xlink:href='#g348' y='97.149'/>
          <use x='229.721' xlink:href='#g040' y='70.6428'/>
          <use x='235.204' xlink:href='#g10' y='70.6428'/>
          <use x='246.404' xlink:href='#g049' y='70.6428'/>
          <use x='253.454' xlink:href='#g041' y='70.6428'/>
          <use x='258.937' xlink:href='#g2110' y='65.4172'/>
          <rect height='0.575974' width='39.8828' x='227.639' y='76.4965'/>
          <use x='227.639' xlink:href='#g050' y='90.2622'/>
          <use x='234.689' xlink:href='#g5110' y='90.2622'/>
          <use x='246.305' xlink:href='#g043' y='90.2622'/>
          <use x='260.472' xlink:href='#g049' y='90.2622'/>
          <use x='268.722' xlink:href='#g433' y='55.7603'/>
        </g>
      </svg>
      <div class="set">
        <label for="result-nk">結果: π ≒</label>
        <input id="result-nk" class="topcoat-text-input" value="計算中" readonly>
      </div>
      <div class="buttons">
        <button id="calc" class="topcoat-button--large" role="button" disabled>計算</button>
        <button id="stop" class="topcoat-button--large" disabled>中断</button>
      </div>
    </div>
    <div id="graph"></div>
    <footer>
      <p>[2013/06/09] <a href="http://ww24.jp/programming/webworkers-pi">HTML5 Web Workers で円周率計算</a></p>
    </footer>
  </div>
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript">
    // スマートフォン判定
    var isSP = /iPod|iPhone|iPad|Linux arm/.test(navigator.platform);
    
    google.load("visualization", "1.0", {"packages": ["corechart"]});
    
    function createChart(target, piArr) {
      var arrayData = [
        ["x", "π"]
      ];
      for (var i = 0, l = piArr.length; i < l; i++)
        arrayData[i + 1] = [i, piArr[i]];
      var data = google.visualization.arrayToDataTable(arrayData);
      var chart = new google.visualization.LineChart(target)
        .draw(data, {
          curveType: "function",
          width: 1200,
          height: 600,
          vAxis: {
            maxValue: 4,
            minValue: 2.7,
            gridlines: {
              count: 20
            }
          }
        });
    }
    
    google.setOnLoadCallback(function () {
      if (! window.Worker)
        return alert("ご使用のブラウザでは実行出来ません。");
      
      var worker = {},
          length = document.getElementById("length"),
          result = document.getElementById("result"),
          result_nk = document.getElementById("result-nk"),
          progress = document.getElementsByTagName("progress")[0],
          calc = document.getElementById("calc"),
          stop = document.getElementById("stop"),
          graph = document.getElementById("graph");
      
      calc.disabled = false;
      calc.addEventListener("click", function () {
        result_nk.value = result.value = "計算中";
        worker = new Worker("pi.js");
        worker.addEventListener("message", function (e) {
          // check end
          if (e.data.end) {
            calc.disabled = false;
            stop.disabled = true;
            result_nk.value = (e.data.PI + e.data.nextPI) / 2;
            
            if (isSP)
              graph.innerText = "お使いのプラットフォームでは処理が重いためグラフは生成しません。";
            else if (e.data.n <= 10000 && e.data.n > 0)
              createChart(graph, [].slice.call(e.data.PIArr, 0, e.data.n + 1));
            else
              graph.innerText = e.data.n > 0 ? "10000 以上では処理が重いためグラフは生成しません。" : "";
          }
          progress.value = e.data.progress;
          result.value = e.data.PI;
        });
        
        var lv = Number(length.value) + 1;
        if (isNaN(lv) || lv < 1) {
          alert("Error: 0 以上の整数を入力してください。");
          throw new Error("length is NaN");
        }
        
        // initialize UI
        calc.disabled = true;
        stop.disabled = false;
        progress.value = 0;
        progress.max = ~~(lv / 10000000) + 1;
        // run
        worker.postMessage(lv);
      });
      stop.addEventListener("click", function () {
        calc.disabled = false;
        stop.disabled = true;
        if (worker.terminate)
          worker.terminate();
      });
      var resultListener = function () {
        this.select();
      };
      result.addEventListener("click", resultListener);
      result_nk.addEventListener("click", resultListener);
    });
  </script>
</body>
</html>